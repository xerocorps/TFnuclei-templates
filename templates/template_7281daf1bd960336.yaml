services:
  builder:
    build:
      context: .
      dockerfile: Dockerfile
    command: bash -c "python3 /home/runner/src/python/update-wordpress-plugin-templates.py
      && nuclei -t /home/runner/nuclei-templates/technologies/wordpress/plugins -validate"
    container_name: template-builder
    image: wp-plugin-template-builder
    stdin_open: true
    tty: true
    volumes:
    - ./.github/scripts:/home/runner/src/python
    - ./nuclei-templates/technologies/wordpress/plugins:/home/runner/nuclei-templates/technologies/wordpress/plugins
    - ./nuclei-templates/helpers/wordpress/plugins:/home/runner/nuclei-templates/helpers/wordpress/plugins
    working_dir: /home/runner
version: '3'
